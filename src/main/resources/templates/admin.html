<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Admin panel</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

</head>

<body>

<nav class="navbar navbar-dark bg-dark">
    <div class="text-light bg-dark  mb-0 h5">
        <td th:utext="${logUser.getEmail()}"></td>
        <th> with roles:</th>
        <td th:utext="${logUser.getRolesToString()}"></td>
    </div>
    <form th:action="@{/logout}" method="post">
        <button type="submit" class="btn btn-link" value="Logout">Logout</button>
    </form>
</nav>


<div class="container-fluid bg-light">

    <div class="row">

        <div class="col-md-2 border-right bg-white">

            <br>
            <nav class="nav nav-pills flex-column">
                <a class="nav-link active" href="/admin">Admin</a>
                <a class="nav-link" href="/user">User</a>
            </nav>
        </div>

        <div class="col-md-10 px-md-5 border">

            <br>
            <h2>Admin panel</h2>

            <ul class="nav nav-tabs">
                <li class="nav-item">
                    <a class="nav-link active" href="/admin">Users table</a>

                    <table class="table">
                        <thead class="thead-light">
                        <tr>
                            <th>id</th>
                            <th>FirstName</th>
                            <th>LastName</th>
                            <th>Age</th>
                            <th>E-mail</th>
                            <th>Role</th>
                            <th>Edit</th>
                            <th>Delete</th>
                        </tr>
                        </thead>
                        <tbody th:each="user : ${users}">
                        <td th:utext="${user.getId()}"></td>
                        <td th:utext="${user.getFirstName()}"></td>
                        <td th:utext="${user.getLastName()}"></td>
                        <td th:utext="${user.getAge()}"></td>
                        <td th:utext="${user.getEmail()}"></td>
                        <td th:utext="${user.getRolesToString()}"></td>

                        <td>
                            <form th:method="post" th:action="@{/admin/{id}/edit(id=${user.getId()})}">
                                <button type="submit" class="btn btn-info" value="edit">Edit</button>
                            </form>
                        </td>

                        <td>
                            <form th:method="DELETE" th:action="@{/admin/{id}(id=${user.getId()})}">
                                <button type="submit" class="btn btn-danger" value="Delete">Delete</button>
                            </form>
                        </td>
                        </tbody>
                    </table>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="#!">Link</a>
                </li>

            </ul>

                <br/>
                <hr/>
                <a th:href="@{/admin/new}">new User</a>
                <br/>
                <hr/>

        </div>
    </div>
</div>

</body>
</html>